<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="UTF-8">
	<link rel="icon" href="/favicon.ico" sizes="any">
	<link rel="icon" href="/favicon.svg" type="image/svg+xml">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Personal website of Anton Zolotukhin">
	<title>Deploy Pelican on GitLab Pages | Mister Gold</title>
<link rel="stylesheet" href="/_astro/about.66ae1f8c.css" />
<link rel="stylesheet" href="/_astro/custom-page-jinja.c7b202da.css" /></head>
	<body class="flex flex-col h-screen bg-mg-primary text-slate-400">
		<div class="text-center">
		<h1 class="
	my-4
	mx-auto
	py-2
	text-center
	text-3xl
	font-bold
	xs: max-w-xs
	sm:max-w-sm
	md:max-w-md
	lg:max-w-lg
	xl:max-w-xl
	">
	<a class="before:content-['←'] hover:text-mg-accent" href="/blog">
		Deploy Pelican on GitLab Pages</a>
</h1>
		<small class="text-slate-400">Written by Antonio • Oct 16</small>
		<hr class="my-6 mx-auto w-20 border-t-2 border-mg-accent">

	</div><article class="prose
		prose-invert
		mx-auto
		px-6
		mb-12
		prose-headings:text-mg-accent
		prose-a:text-mg-blue
		prose-a:no-underline
		hover:prose-a:underline
		prose-code:text-mg-red
		prose-blockquote:border-sky-700
		prose-img:rounded-lg
		prose-img:mx-auto
		max-w-xs
		sm:max-w-sm
		md:max-w-md
		lg:max-w-lg
		xl:max-w-xl
		">
		<img class="rounded-lg" src="/images/pelican-on-gitlab-pages/pelican-on-gitlab-title.png" alt="image">

		<h2 id="introduction">Introduction</h2>
<p>I moved my blog to Pelican - a static site generator, in the middle of 2017. Pelican has Python in its core and doesn’t require a database or server-side logic to work. Pelican grabs content, merges it with the defined templates and outputs the result as HTML, CSS, JS, along with other static files (e.g. graphics or plain text files). All these files can then be uploaded to a server and literally, that’s it! The only thing that you should have on your server is a web server, like Apache or Nginx.</p>
<p>You can write content in your favorite text editor or IDE using reStructuredText, Markdown or AsciiDoc - simple, easy to read and understand formats. The best thing I like here is a process - you write something, save it, check the generated article, update the text again, save, check. It makes writing a pleasure, as you can see your changes immediately, so you want to repeat the process again and again. Lovely magic.</p>
<p>You may ask: “Why Pelican?” Well, the answer is pretty obvious. Nowadays the majority of websites (even the simplest ones) represent complex solutions based on PHP, MySQL, HTML, CSS, JavaScript and all these parts must work together to ensure seamless workflow and security. The thing here is that browsers still display HTML, CSS, and JavaScript that were downloaded from the server and it really doesn’t matter how these files were created/generated. Due to a multitude of components, all the modern CMSs are vulnerable to different cyber attacks aimed at compromising access credentials and disclosing private information. Pelican has nothing to hack, as there is no database and no files contain sensitive data. The server has only a web server serving static content, so there is no extra configuration or additional components. As the result, Pelican setup, as well as the generated website, is very lightweight. An incredible example of the KISS principle.</p>
<p>OK, let’s get to the point. By the end of this article, you will receive a fully functional Pelican website on top of GiLab Pages and will be able to apply changes by pushing a new commit.</p>
<h2 id="getting-started">Getting Started</h2>
<p><strong>NOTE:</strong> For this guide I use Ubuntu 17.04, but those of you who work on Windows shouldn’t have any troubles as well, everything is quite similar.
If you think you need some help, feel free to contact me or leave a comment below this article.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>Before proceeding with Pelican and GitLab, you need to install the following basic packages:</p>
<ul>
<li><strong>python</strong>. Pelican uses Python, so it should be installed first. As the Pelican documentation states, it runs best on Python 2.7.x and 3.3+, so you can choose the one that best suits your environment setup.</li>
<li><strong>pip</strong>. Python package manager. It will be used to install virtualenv, Pelican, and related packages.</li>
<li><strong>git</strong>. Version control system. It will be used to work with GitLab.</li>
</ul>
<p>Use the command below to install these packages in bulk:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">sudo apt install python3.6 python-pip git -y</span></span></code></pre>
<p>In my case, all the required Python packages were available out-of-the-box, so I just installed git.</p>
<h2 id="gitlab-setup-a-project">GitLab: Setup a Project</h2>
<p>Create a new repository on GitLab. There are several considerations to keep in mind:</p>
<ul>
<li>If you create a project under your username (<code>&#x3C;username>.gitlab.io</code>), your website will be available under <code>https://&#x3C;username>.gitlab.io</code></li>
<li>If you create a project under a group name (<code>&#x3C;groupname>.gitlab.io</code>), your website will be available under <code>https://&#x3C;groupname>.gitlab.io</code></li>
</ul>
<p>Choose a name wisely, as the associated address will be used in several places later. I created a repository under my username called <code>mister-gold-test</code>.</p>
<p><img src="/images/pelican-on-gitlab-pages/new-project-gitlab.png" alt="New Project On GitLab" title="New Project On GitLab"></p>
<p><img src="/images/pelican-on-gitlab-pages/project-gitlab.png" alt="New Project On GitLab" title="New Project On GitLab"></p>
<h2 id="virtualenv-installation">Virtualenv: Installation</h2>
<p><code>virtualenv</code> is a tool to create isolated Python environments. It is recommended to install Pelican in an isolated environment to avoid possible permission problems and version conflicts when multiple python projects (or packages) require different versions of the same libraries to work.</p>
<p>Install <code>virtualenv</code>:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pip install virtualenv</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Collecting virtualenv</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading virtualenv-15.1.0-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">1.8MB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 1.8MB 280kB/s</span></span>
<span class="line"><span style="color: #E0DEF4">Installing collected packages: virtualenv</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully installed virtualenv-15.1.0</span></span></code></pre>
<p>Specify a path where you want to create a new environment for your website:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">virtualenv </span><span style="color: #3E8FB0">~</span><span style="color: #E0DEF4">/env</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Running virtualenv with interpreter /usr/bin/python2</span></span>
<span class="line"><span style="color: #E0DEF4">New python executable </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> /home/gold/env/bin/python2</span></span>
<span class="line"><span style="color: #E0DEF4">Also creating executable </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> /home/gold/env/bin/python</span></span>
<span class="line"><span style="color: #E0DEF4">Installing setuptools, pkg_resources, pip, wheel...done.</span></span></code></pre>
<p>Navigate to the folder and run the environment:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #EB6F92">cd</span><span style="color: #E0DEF4"> env/</span></span>
<span class="line"><span style="color: #EB6F92">source</span><span style="color: #E0DEF4"> bin/activate</span></span></code></pre>
<p>Your terminal should indicate that <code>env</code> environment became active:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #908CAA">(</span><span style="color: #E0DEF4">env</span><span style="color: #908CAA">)</span><span style="color: #E0DEF4"> gold@gold-vb:</span><span style="color: #3E8FB0">~</span><span style="color: #E0DEF4">/env$</span></span></code></pre>
<h3 id="clone-the-gitlab-project">Clone the GitLab Project</h3>
<p>Once the environment created and activated, clone the previously created GitLab project in it:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #e0def4">git clone git@gitlab.com:&#x3C;username>/mister-gold-test.git</span></span>
<span class="line"><span style="color: #e0def4">Cloning into 'mister-gold-test'...</span></span>
<span class="line"><span style="color: #e0def4">warning: You appear to have cloned an empty repository.</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">cd mister-gold-test</span></span></code></pre>
<h3 id="install-pelican">Install Pelican</h3>
<p>After you have cloned the project repository into the virtual environment, proceed with the installation of Pelican.</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pip install pelican</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Collecting pelican</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading pelican-3.7.1-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">134kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 143kB 1.2MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting six</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=1.4 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading six-1.11.0-py2.py3-none-any.whl</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting unidecode </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Unidecode-0.04.21-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">228kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 235kB 1.5MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting pytz</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=0a </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading pytz-2017.2-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">484kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 491kB 1.0MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting docutils </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading docutils-0.14-py2-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">543kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 552kB 827kB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting blinker </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading blinker-1.4.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">111kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 112kB 3.3MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting pygments </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Pygments-2.2.0-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">841kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 849kB 696kB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting python-dateutil </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading python_dateutil-2.6.1-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">194kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 194kB 2.2MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting feedgenerator</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=1.9 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading feedgenerator-1.9.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">4.1MB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 4.1MB 183kB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting jinja</span><span style="color: #3E8FB0">2></span><span style="color: #E0DEF4">=2.7 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Jinja2-2.9.6-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">340kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 348kB 2.2MB/s </span></span>
<span class="line"><span style="color: #E0DEF4">Collecting MarkupSafe</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=0.23 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from jinja</span><span style="color: #3E8FB0">2></span><span style="color: #E0DEF4">=2.7-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">pelican</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading MarkupSafe-1.0.tar.gz</span></span>
<span class="line"><span style="color: #E0DEF4">Building wheels </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> collected packages: blinker, feedgenerator, MarkupSafe</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> blinker ... </span><span style="color: #3E8FB0">done</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /home/gold/.cache/pip/wheels/7b/8a/eb/5a4f4444f366c515073db8a129c92d4727ad945e5e64b9e8bd</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> feedgenerator ... </span><span style="color: #3E8FB0">done</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /home/gold/.cache/pip/wheels/6a/7e/41/7ed20833c4cae3d36c5e373ac5d8d9eee58546b87c1b9505fe</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> MarkupSafe ... </span><span style="color: #3E8FB0">done</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /home/gold/.cache/pip/wheels/88/a7/30/e39a54a87bcbe25308fa3ca64e8ddc75d9b3e5afa21ee32d57</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully built blinker feedgenerator MarkupSafe</span></span>
<span class="line"><span style="color: #E0DEF4">Installing collected packages: six, unidecode, pytz, docutils, blinker, pygments, python-dateutil, feedgenerator, MarkupSafe, jinja2, pelican</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully installed MarkupSafe-1.0 blinker-1.4 docutils-0.14 feedgenerator-1.9 jinja2-2.9.6 pelican-3.7.1 pygments-2.2.0 python-dateutil-2.6.1 pytz-2017.2 six-1.11.0 unidecode-0.4.21</span></span></code></pre>
<p>In order to be able to write articles in Markdown, it is also necessary to install the appropriate package:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pip install markdown</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Collecting markdown</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Markdown-2.6.9.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">271kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">    100% </span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4">████████████████████████████████</span><span style="color: #3E8FB0">|</span><span style="color: #E0DEF4"> 276kB 920kB/s</span></span>
<span class="line"><span style="color: #E0DEF4">Building wheels </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> collected packages: markdown</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> markdown ... </span><span style="color: #3E8FB0">done</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /home/gold/.cache/pip/wheels/bf/46/10/c93e17ae86ae3b3a919c7b39dad3b5ccf09aeb066419e5c1e5</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully built markdown</span></span>
<span class="line"><span style="color: #E0DEF4">Installing collected packages: markdown</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully installed markdown-2.6.9</span></span></code></pre>
<h3 id="generate-a-basic-website">Generate a Basic Website</h3>
<p>Okay, Pelican has been installed and you can test it. Launch the <code>pelican-quickstart</code> command to create a basic skeleton website:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pelican-quickstart</span></span></code></pre>
<p>This script asks you some questions about a website to be created and generates all the required files:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Welcome to pelican-quickstart v3.7.1.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E0DEF4">This script will </span><span style="color: #EB6F92">help</span><span style="color: #E0DEF4"> you create a new Pelican-based website.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E0DEF4">Please answer the following questions so this script can generate the files</span></span>
<span class="line"><span style="color: #E0DEF4">needed by Pelican.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Where </span><span style="color: #3E8FB0">do</span><span style="color: #E0DEF4"> you want to create your new web site</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">[</span><span style="color: #E0DEF4">.</span><span style="color: #908CAA">]</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> What will be the title of this web site</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> Mister Gold Test</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Who will be the author of this web site</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> Antonio</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> What will be the default language of this web site</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">[</span><span style="color: #E0DEF4">en</span><span style="color: #908CAA">]</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to specify a URL prefix</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> e.g., http://example.com   </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">Y/n</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> What is your URL prefix</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">see above example</span><span style="color: #3E8FB0">;</span><span style="color: #E0DEF4"> no trailing slash</span><span style="color: #908CAA">)</span><span style="color: #E0DEF4"> https://</span><span style="color: #3E8FB0">&#x3C;</span><span style="color: #E0DEF4">username</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">.gitlab.io/mister-gold-test</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to </span><span style="color: #EB6F92">enable</span><span style="color: #E0DEF4"> article pagination</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">Y/n</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> How many articles per page </span><span style="color: #3E8FB0">do</span><span style="color: #E0DEF4"> you want</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">[</span><span style="color: #E0DEF4">10</span><span style="color: #908CAA">]</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> What is your </span><span style="color: #3E8FB0">time</span><span style="color: #E0DEF4"> zone</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">[</span><span style="color: #E0DEF4">Europe/Paris</span><span style="color: #908CAA">]</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to generate a Fabfile/Makefile to automate generation and publishing</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">Y/n</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want an auto-reload </span><span style="color: #3E8FB0">&#x26;</span><span style="color: #E0DEF4"> simpleHTTP script to assist with theme and site development</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">Y/n</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using FTP</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using SSH</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using Dropbox</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using S3</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using Rackspace Cloud Files</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #3E8FB0">></span><span style="color: #E0DEF4"> Do you want to upload your website using GitHub Pages</span><span style="color: #3E8FB0">?</span><span style="color: #E0DEF4"> </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">y/N</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Done. Your new project is available at /home/gold/env/mister-gold-test</span></span></code></pre>
<p>Pay attention to a URL prefix - this is an address to your website you got after creating your project in GitLab (That I recommended you to choose wisely). The rest of questions you can leave in their defaults. Default values are capitalized (Y/n or y/N).</p>
<h3 id="add-an-article">Add an article</h3>
<p><code>pelican-quickstart</code> generates the base Pelican structure that allows you to extend it and customize according to your needs, but all articles should be added manually.</p>
<p>Open the folder <code>~/env/mister-gold-test/content</code> in your file explorer and create a file called <code>article.md</code> with the following contents:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #9CCFD8">Title</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">My first article</span></span>
<span class="line"><span style="color: #9CCFD8">Date</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">2017-10-14 00:01</span></span>
<span class="line"><span style="color: #9CCFD8">Modified</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">2017-10-15 00:10</span></span>
<span class="line"><span style="color: #9CCFD8">Category</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">python</span></span>
<span class="line"><span style="color: #9CCFD8">Tags</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">pelican, gitlab</span></span>
<span class="line"><span style="color: #9CCFD8">Slug</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">my-first-article</span></span>
<span class="line"><span style="color: #9CCFD8">Authors</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">Antonio</span></span>
<span class="line"><span style="color: #9CCFD8">Summary</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">Short version for index and feeds</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F6C177">This is the content of my first article</span></span></code></pre>
<p>The <code>markdown</code> package was installed previously to support Markdown syntax and all the metadata that are set before the article body.</p>
<h3 id="generate-html-output">Generate HTML output</h3>
<p>Before converting your article into HTML and see how the website looks like, apply the following trick to simplify further integration with GitLab.</p>
<p><strong>Change the output folder</strong></p>
<p>By default Pelican puts the generated files into <code>output</code> folder and this won’t work in GitLab because it requires static files to be located in <code>public</code> folder.</p>
<p>To change the output folder, navigate to the project folder (<code>~/env/mister-gold-test</code>), find <code>pelicanconf.py</code> and <code>publishconf.py</code> files and then add the following line to these files:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">OUTPUT_PATH = </span><span style="color: #F6C177">'public/'</span></span></code></pre>
<p>To do the same for local development, open the <code>Makefile</code> file and change this</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">OUTPUTDIR=</span><span style="color: #F6C177">$(BASEDIR)</span><span style="color: #E0DEF4">/output</span></span></code></pre>
<p>to this</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">OUTPUTDIR=</span><span style="color: #F6C177">$(BASEDIR)</span><span style="color: #E0DEF4">/public</span></span></code></pre>
<p>These two manipulations will force Pelican to put all the generated files to the <code>public</code> folder. Now you can delete <code>output</code> folder, you are no longer need it.</p>
<p>Once finished, you can convert your first article into HTML using either <code>pelican</code> command, specifying the path to your content, or <code>make</code> command:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pelican content</span></span>
<span class="line"><span style="color: #E0DEF4">Done: Processed 1 article, 0 drafts, 0 pages and 0 hidden pages </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> 0.21 seconds.</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">make html</span></span>
<span class="line"><span style="color: #E0DEF4">pelican /home/gold/env/mister-gold-test/content -o /home/gold/env/mister-gold-test/public -s /home/gold/env/mister-gold-test/pelicanconf.py </span></span>
<span class="line"><span style="color: #E0DEF4">Done: Processed 1 article, 0 drafts, 0 pages and 0 hidden pages </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> 0.23 seconds.</span></span></code></pre>
<p>All the generated static files will be located in <code>public</code> folder now.</p>
<h3 id="view-the-generated-files">View the generated files</h3>
<p>To preview the generated files, use <code>make serve</code> command:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">make serve</span></span>
<span class="line"><span style="color: #EB6F92">cd</span><span style="color: #E0DEF4"> /home/gold/env/mister-gold-test/public </span><span style="color: #3E8FB0">&#x26;&#x26;</span><span style="color: #E0DEF4"> python -m pelican.server</span></span></code></pre>
<p>You can also navigate to the <code>public</code> folder and run a simple web server using Python. The command syntax depends on the version of Python you use:</p>
<p>For Python 2.7.x:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #EB6F92">cd</span><span style="color: #E0DEF4"> public</span></span>
<span class="line"><span style="color: #E0DEF4">python -m SimpleHTTPServer</span></span></code></pre>
<p>For Python 3.x:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #EB6F92">cd</span><span style="color: #E0DEF4"> public</span></span>
<span class="line"><span style="color: #E0DEF4">python -m http.server</span></span></code></pre>
<p>Once launched, open <code>http://localhost:8000</code> in your web browser:</p>
<p><img src="/images/pelican-on-gitlab-pages/first-launch-website.png" alt="First Launch" title="First Launch on Localhost"></p>
<h2 id="configuration-for-gitlab">Configuration for GitLab</h2>
<p>To properly configure GitLab to work with Pelican, you need to create 3 files: <code>requirements.txt</code>, <code>.gitlab-ci.yml</code>, <code>.gitignore</code>, and enable Shared Runners.</p>
<p><strong>requirements.txt</strong></p>
<p>Open your project folder (<code>~/env/mister-gold-test</code>) and create a <code>requirements.txt</code> file with the following contents:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">pelican</span></span>
<span class="line"><span style="color: #E0DEF4">markdown</span></span></code></pre>
<p>This file contains a list of packages that should be installed when creating your website. These are the same commands that were executed inside the virtual environment.</p>
<p><strong>.gitlab-ci.yml</strong></p>
<p><code>.gitlab-ci.yml</code> is a configuration file that will build and deploy your website to GitLab. Create a <code>.gitlab-ci.yml</code> file (with the leading dot) and add the following contents to it:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #9CCFD8">image</span><span style="color: #908CAA">:</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">python:3.6-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CCFD8">pages</span><span style="color: #908CAA">:</span></span>
<span class="line"><span style="color: #E0DEF4">  </span><span style="color: #9CCFD8">script</span><span style="color: #908CAA">:</span></span>
<span class="line"><span style="color: #E0DEF4">  </span><span style="color: #908CAA">-</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">pip install -r requirements.txt</span></span>
<span class="line"><span style="color: #E0DEF4">  </span><span style="color: #908CAA">-</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">pelican -s publishconf.py</span></span>
<span class="line"><span style="color: #E0DEF4">  </span><span style="color: #9CCFD8">artifacts</span><span style="color: #908CAA">:</span></span>
<span class="line"><span style="color: #E0DEF4">    </span><span style="color: #9CCFD8">paths</span><span style="color: #908CAA">:</span></span>
<span class="line"><span style="color: #E0DEF4">    </span><span style="color: #908CAA">-</span><span style="color: #E0DEF4"> </span><span style="color: #F6C177">public/</span></span></code></pre>
<p>This file contains definitions of how a project should be built:</p>
<ul>
<li>image - defines a Docker image that will be used during build time.</li>
<li>pages - a special job that is used to upload static content to GitLab. It has two main requirements:
<ul>
<li>any static content must be placed under a <code>public</code> directory (that’s why you had to change default output folder in Pelican)</li>
<li>artifacts with a path to the <code>public</code> directory must be defined (you can see these lines in <code>.gitlab-ci.yml</code>)</li>
<li>script - a shell script that is executed by the Runner</li>
<li>artifacts - a job that specifies a list of files and directories which should be attached to the <code>pages</code> job after successful completion.</li>
</ul>
</li>
</ul>
<p>In other words, once a new change is committed, it triggers CI Pipeline. GitLab checks <code>gitlab-ci.yml</code> and launches Runner to perform all the steps defined in the file. A runner is basically a virtual machine that picks up a job via GitLab CI API. In our case, Runner will use docker image with python 3.6 version, install pelican, markdown and then convert the existing content to HTML using data from <code>publishconf.py</code> configuration file. The resulting files (artifacts) will be placed in <code>public</code> folder that is publicly available.</p>
<p><strong>.gitignore</strong></p>
<p>Since all the content will be processed on GitLab side, there is no need to save the <code>public</code> folder in git. Also, Pelican creates some compiled files when building the website - these files should also be ignored. Open the project folder and create a <code>.gitignore</code> file with the following lines:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #e0def4">/public</span></span>
<span class="line"><span style="color: #e0def4">*.pyc</span></span></code></pre>
<p><strong>Shared Runners</strong></p>
<p>To allow your project to trigger CI process, you need to enable Shared Runners. Open your GitLab Project, <strong>Settings > CI/CD > Pipelines</strong>. Expand the <strong>Runners</strong> settings section and make sure that <strong>Shared Runners</strong> are enabled.</p>
<p><img src="/images/pelican-on-gitlab-pages/enable-shared-runners.png" alt="Enable Shared Runners" title="Enable Shared Runners"></p>
<h2 id="publish-on-gitlab">Publish on GitLab</h2>
<p>The final step is publishing your website. To do this, simply commit and push the project folder to the repository.</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #e0def4">git add .</span></span>
<span class="line"><span style="color: #e0def4">git status</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">On branch master</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">Initial commit</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">Changes to be committed:</span></span>
<span class="line"><span style="color: #e0def4">  (use "git rm --cached &#x3C;file>..." to unstage)</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">	new file:   .gitignore</span></span>
<span class="line"><span style="color: #e0def4">	new file:   .gitlab-ci.yml</span></span>
<span class="line"><span style="color: #e0def4">	new file:   Makefile</span></span>
<span class="line"><span style="color: #e0def4">	new file:   content/article.md</span></span>
<span class="line"><span style="color: #e0def4">	new file:   develop_server.sh</span></span>
<span class="line"><span style="color: #e0def4">	new file:   fabfile.py</span></span>
<span class="line"><span style="color: #e0def4">	new file:   pelicanconf.py</span></span>
<span class="line"><span style="color: #e0def4">	new file:   publishconf.py</span></span>
<span class="line"><span style="color: #e0def4">	new file:   requirements.txt</span></span></code></pre>
<p>But first, I advise you to check carefully the files that were modified in the working directory. Also notice that if you did everything right with <code>gitignore</code>, you shouldn’t see the <code>public</code> folder and any compiled python files here - they are ignored by git.</p>
<p>Everything is good, let’s commit it:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #e0def4">git commit -m "Initial project state"</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">[master (root-commit) c81bdd9] Initial project state</span></span>
<span class="line"><span style="color: #e0def4"> 9 files changed, 403 insertions(+)</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 .gitignore</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 .gitlab-ci.yml</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 Makefile</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 content/article.md</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100755 develop_server.sh</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 fabfile.py</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 pelicanconf.py</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 publishconf.py</span></span>
<span class="line"><span style="color: #e0def4"> create mode 100644 requirements.txt</span></span></code></pre>
<p>and push:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #e0def4">git push origin master</span></span>
<span class="line"><span style="color: #e0def4"></span></span>
<span class="line"><span style="color: #e0def4">Counting objects: 12, done.</span></span>
<span class="line"><span style="color: #e0def4">Delta compression using up to 2 threads.</span></span>
<span class="line"><span style="color: #e0def4">Compressing objects: 100% (9/9), done.</span></span>
<span class="line"><span style="color: #e0def4">Writing objects: 100% (12/12), 4.98 KiB | 0 bytes/s, done.</span></span>
<span class="line"><span style="color: #e0def4">Total 12 (delta 0), reused 0 (delta 0)</span></span>
<span class="line"><span style="color: #e0def4">To gitlab.com:&#x3C;username>/mister-gold-test.git</span></span>
<span class="line"><span style="color: #e0def4"> * [new branch]      master -> master</span></span></code></pre>
<p>After that you can check the status of the current build:</p>
<p><img src="/images/pelican-on-gitlab-pages/build-running.png" alt="Build is Running" title="Build is Running"></p>
<p><img src="/images/pelican-on-gitlab-pages/build-passed.png" alt="Build Passed" title="Build Passed"></p>
<p>and the CI Pipeline Build log:</p>
<pre is:raw="" class="astro-code" style="background-color: #232136; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;"><code><span class="line"><span style="color: #E0DEF4">Running with gitlab-runner 10.1.0-rc.1 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">946e835b</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">  on docker-auto-scale </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">4e4528ca</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Using Docker executor with image python:3.6-alpine ...</span></span>
<span class="line"><span style="color: #E0DEF4">Using docker image sha256:ae26e16b7a5e8895ff9ad2f72d3a505394d06b94012b6bd623a46d5268f43c92 </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> predefined container...</span></span>
<span class="line"><span style="color: #E0DEF4">Pulling docker image python:3.6-alpine ...</span></span>
<span class="line"><span style="color: #E0DEF4">Using docker image python:3.6-alpine ID=sha256:d26cf7d4701d0c82caabe7f58164a372c5cc1c3dde5ec9c29d1eaeb75075cc95 </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> build container...</span></span>
<span class="line"><span style="color: #E0DEF4">Running on runner-4e4528ca-project-4393246-concurrent-0 via runner-4e4528ca-srm-1508088671-157c532f...</span></span>
<span class="line"><span style="color: #E0DEF4">Cloning repository...</span></span>
<span class="line"><span style="color: #E0DEF4">Cloning into </span><span style="color: #F6C177">'/builds/&#x3C;username>/mister-gold-test'</span><span style="color: #E0DEF4">...</span></span>
<span class="line"><span style="color: #E0DEF4">Checking out c81bdd9c as master...</span></span>
<span class="line"><span style="color: #E0DEF4">Skipping Git submodules setup</span></span>
<span class="line"><span style="color: #E0DEF4">$ pip install -r requirements.txt</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting pelican </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from -r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading pelican-3.7.1-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">134kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting markdown </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from -r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 2</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Markdown-2.6.9.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">271kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting jinja</span><span style="color: #3E8FB0">2></span><span style="color: #E0DEF4">=2.7 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Jinja2-2.9.6-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">340kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting docutils </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading docutils-0.14-py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">543kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting pygments </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Pygments-2.2.0-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">841kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting python-dateutil </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading python_dateutil-2.6.1-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">194kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting unidecode </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading Unidecode-0.04.21-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">228kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting blinker </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading blinker-1.4.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">111kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting feedgenerator</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=1.9 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading feedgenerator-1.9.tar.gz </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">4.1MB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting six</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=1.4 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading six-1.11.0-py2.py3-none-any.whl</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting pytz</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=0a </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading pytz-2017.2-py2.py3-none-any.whl </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">484kB</span><span style="color: #908CAA">)</span></span>
<span class="line"><span style="color: #E0DEF4">Collecting MarkupSafe</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">=0.23 </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">from jinja</span><span style="color: #3E8FB0">2></span><span style="color: #E0DEF4">=2.7-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">pelican-</span><span style="color: #3E8FB0">></span><span style="color: #E0DEF4">-r requirements.txt </span><span style="color: #908CAA">(</span><span style="color: #E0DEF4">line 1</span><span style="color: #908CAA">))</span></span>
<span class="line"><span style="color: #E0DEF4">  Downloading MarkupSafe-1.0.tar.gz</span></span>
<span class="line"><span style="color: #E0DEF4">Building wheels </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> collected packages: markdown, blinker, feedgenerator, MarkupSafe</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> markdown: started</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> markdown: finished with status </span><span style="color: #F6C177">'done'</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /root/.cache/pip/wheels/bf/46/10/c93e17ae86ae3b3a919c7b39dad3b5ccf09aeb066419e5c1e5</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> blinker: started</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> blinker: finished with status </span><span style="color: #F6C177">'done'</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /root/.cache/pip/wheels/7b/8a/eb/5a4f4444f366c515073db8a129c92d4727ad945e5e64b9e8bd</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> feedgenerator: started</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> feedgenerator: finished with status </span><span style="color: #F6C177">'done'</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /root/.cache/pip/wheels/6a/7e/41/7ed20833c4cae3d36c5e373ac5d8d9eee58546b87c1b9505fe</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> MarkupSafe: started</span></span>
<span class="line"><span style="color: #E0DEF4">  Running setup.py bdist_wheel </span><span style="color: #3E8FB0">for</span><span style="color: #E0DEF4"> MarkupSafe: finished with status </span><span style="color: #F6C177">'done'</span></span>
<span class="line"><span style="color: #E0DEF4">  Stored </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> directory: /root/.cache/pip/wheels/88/a7/30/e39a54a87bcbe25308fa3ca64e8ddc75d9b3e5afa21ee32d57</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully built markdown blinker feedgenerator MarkupSafe</span></span>
<span class="line"><span style="color: #E0DEF4">Installing collected packages: MarkupSafe, jinja2, docutils, pygments, six, python-dateutil, unidecode, blinker, pytz, feedgenerator, pelican, markdown</span></span>
<span class="line"><span style="color: #E0DEF4">Successfully installed MarkupSafe-1.0 blinker-1.4 docutils-0.14 feedgenerator-1.9 jinja2-2.9.6 markdown-2.6.9 pelican-3.7.1 pygments-2.2.0 python-dateutil-2.6.1 pytz-2017.2 six-1.11.0 unidecode-0.4.21</span></span>
<span class="line"><span style="color: #E0DEF4">$ pelican -s publishconf.py</span></span>
<span class="line"><span style="color: #E0DEF4">WARNING: Feeds generated without SITEURL </span><span style="color: #EB6F92">set</span><span style="color: #E0DEF4"> properly may not be valid</span></span>
<span class="line"><span style="color: #E0DEF4">Done: Processed 1 article, 0 drafts, 0 pages and 0 hidden pages </span><span style="color: #3E8FB0">in</span><span style="color: #E0DEF4"> 0.28 seconds.</span></span>
<span class="line"><span style="color: #E0DEF4">Uploading artifacts...</span></span>
<span class="line"><span style="color: #E0DEF4">public: found 46 matching files</span></span>
<span class="line"><span style="color: #E0DEF4">Uploading artifacts to coordinator... ok            id=36292241 responseStatus=201 Created token=tEvi_fb_</span></span>
<span class="line"><span style="color: #E0DEF4">Job succeeded</span></span></code></pre>
<p>You can see that GitLab CI logic is straightforward and it did the same operations that we performed after activating the virtual environment.</p>
<p>Once both jobs completed successfully, you can open <code>https://&#x3C;username>.gitlab.io/mister-gold-test</code> and check your website. You can also see this URL by navigating to GitLab <strong>Settings > Pages</strong>:</p>
<p><img src="/images/pelican-on-gitlab-pages/pages-url.png" alt="Pages URL" title="Pages URL"></p>
<p>So, the moment of truth - accessing the website via a browser:</p>
<p><img src="/images/pelican-on-gitlab-pages/first-launch-production-website.png" alt="First Production Launch" title="First Production Launch"></p>
<p>YEES! It works! You should now have a fully working Pelican website, being served by GitLab. This is, actually, the way how I created this blog, so it represents a live example of what you can achieve with Pelican and GitLab Pages. You may also consider the following steps:</p>
<ul>
<li><a href="http://docs.getpelican.com/en/stable/content.html" title="Writing content">Add more content</a></li>
<li><a href="http://docs.getpelican.com/en/stable/pelican-themes.html" title="Pelican themes">Add new theme</a></li>
<li><a href="https://docs.gitlab.com/ee/user/project/pages/custom_domains_ssl_tls_certification/#set-up-a-custom-domain" title="Add a custom domain to GitLab Pages">Add a custom domain</a></li>
<li><a href="https://docs.gitlab.com/ee/user/project/pages/custom_domains_ssl_tls_certification/lets_encrypt_integration.html#enabling-lets-encrypt-integration-for-your-custom-domain">Add an SSL certificate</a></li>
</ul>
<p>In my case, all these steps are fulfilled :)</p>
<h2 id="references">References</h2>
<ul>
<li><a href="http://docs.getpelican.com/en/stable/install.html" title="Pelican Documentation">Pelican Documentation</a></li>
<li><a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_one.html" title="GitLab Pages Documentation">GitLab Pages Documentation</a></li>
<li><a href="https://about.gitlab.com/2016/04/07/gitlab-pages-setup" title="Hosting on GitLab.com with GitLab Pages">Hosting on GitLab.com with GitLab Pages</a></li>
<li><a href="https://gitlab.com/pages/pelican" title="Pelican on GitLab Pages">Pelican on GitLab Pages</a></li>
</ul>
<p>Hope you found this guide helpful!</p>
<p>That’s it! See you in new articles!</p>

		<div class="text-center mt-14"><a href="/blog">← Back to blog</a></div>
	</article>
		<footer class="mx-2 justify-center text-xs lg:flex lg:justify-between lg:mx-4 mb-1">
    <ul class="flex justify-center mb-1 space-x-4">
	<li class="inline-block hover:text-mg-accent"><a target="_blank" href="https://github.com/bandantonio">GitHub</a></li><li class="inline-block hover:text-mg-accent"><a target="_blank" href="https://www.linkedin.com/in/bandantonio">LinkedIn</a></li><li class="inline-block hover:text-mg-accent"><a target="_blank" href="https://bandantonio.medium.com">Medium</a></li>
</ul>
    <p class="hidden md:block text-center">&copy; 2011 - 2023 | Built with <a class="text-mg-accent" href="https://astro.build">Astro 🚀</a>, Tailwind CSS, and GitHub Pages</p>
</footer>
	</body></html>